{% extends "base.html"%}
{% block content %}

<div class="content-column w-col w-col-9">
    <div class="container" style="margin-top: 10px;">
        <div class="col-md-12 text-center" id="menu-flters">
            <ul>
                <li><a id="for-you-btn" class="filter filter-foryou active"data-filter=".foryou">For you</a></li>
                <li><a id="following-btn" class="filter filter-following"data-filter=".following">Following</a></li>
                <li><a id="add-post-btn" class="filter filter-addpost"data-filter=".addpost">Add Post</a></li>
                <li><a id="my-post-btn" class="filter filter-mypost"data-filter=".mypost">My Post</a></li>
            </ul>
        </div>
    </div>
    <style>
        .post-group {
            display: none;
        }
        
        #for-you {
            display: block;
        }
    </style>
    
    <div class="post-group w-dyn-list" id="for-you">
        <div role="list" class="w-dyn-items">
            {% for post in posts_for_you%}
                <div role="listitem" class="w-dyn-item">
                    <div data-w-id="53cc7567-513c-3103-cd72-dfb075f10bef" style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg); transform-style: preserve-3d;" class="post-wrapper">
                        <div class="post-content">
                            <div class="w-row">
                                <div class="w-col w-col-4 w-col-medium-4">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" style="background-image:url(&quot;https://assets.website-files.com/5e4b1a54e48aed65701ff226/5e4b1a54e48aed3f261ff24a_photo-1441512673622-3eaa1c39ba28.jpg&quot;)" class="blog-image w-inline-block">
                                    </a>
                                </div>
                                <div class="w-col w-col-8 w-col-medium-8">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" class="blog-title-link w-inline-block">
                                        <h2 class="blog-title">{{post.title}}</h2>
                                    </a>
                                    <div class="details-wrapper">
                                        <div class="post-info">{{post.postdate}}</div>
                                        <div class="post-info">|</div>
                                        <a href="https://denali-template.webflow.io/categories/art" class="post-info when-link">Art</a>
                                    </div>
                                    <div class="post-summary-wrapper">
                                        <p class="post-summary">{{post.context |safe}}
                                        </p>
                                        <a href="{{ url_for('view_post',post_id=post.id) }}" class="read-more-link">Read more...</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <!--  -->
    <!--  -->
    <div class="post-group w-dyn-list" id="following">
        <div role="list" class="w-dyn-items">
            {% for post in posts_you_follow %}
                <div role="listitem" class="w-dyn-item">
                    <div data-w-id="53cc7567-513c-3103-cd72-dfb075f10bef" style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg); transform-style: preserve-3d;" class="post-wrapper">
                        <div class="post-content">
                            <div class="w-row">
                                <div class="w-col w-col-4 w-col-medium-4">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" style="background-image:url(&quot;https://assets.website-files.com/5e4b1a54e48aed65701ff226/5e4b1a54e48aed3f261ff24a_photo-1441512673622-3eaa1c39ba28.jpg&quot;)" class="blog-image w-inline-block">
                                    </a>
                                </div>
                                <div class="w-col w-col-8 w-col-medium-8">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" class="blog-title-link w-inline-block">
                                        <h2 class="blog-title">{{post.title}}</h2>
                                    </a>
                                    <div class="details-wrapper">
                                        <div class="post-info">{{post.postdate}}</div>
                                        <div class="post-info">|</div>
                                        <a href="https://denali-template.webflow.io/categories/art" class="post-info when-link">Art</a>
                                    </div>
                                    <div class="post-summary-wrapper">
                                        <p class="post-summary">{{post.context |safe}}
                                        </p>
                                        <a href="{{ url_for('view_post',post_id=post.id) }}" class="read-more-link">Read more...</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>




    <!--  -->
    <!-- ---------------------------------------------------------add post------------------------------------------------------------------- -->
    <div class="post-group w-dyn-list" id="add-post">
        <div role="list" class="w-dyn-items">
            <div role="listitem" class="w-dyn-item">
                <div data-w-id="53cc7567-513c-3103-cd72-dfb075f10bef" style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg); transform-style: preserve-3d; height: 450px;" class="post-wrapper">
                    <div class="post-content">
                        <div class="w-col w-col-10 w-col-medium-10">
                            <form method="post">
                                {{ form.csrf_token }}
                                {{ form.title }}
                                {{ form.context }}
                                {{ form.auther }}
                                <br>
                                {{ form.submit }}
                                {{ ckeditor.load() }}
                                {{ ckeditor.config(name='article') }}
                                {{ ckeditor.config(width = 'auto') }}
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    


    
    <!--  -->
    <!--  -->
    <div class="post-group w-dyn-list" id="my-post">
        <div role="list" class="w-dyn-items">
            {% for post in my_post %}
                <div role="listitem" class="w-dyn-item">
                    <div data-w-id="53cc7567-513c-3103-cd72-dfb075f10bef" style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg); transform-style: preserve-3d;" class="post-wrapper">
                        <div class="post-content">
                            <div class="w-row">
                                <div class="w-col w-col-4 w-col-medium-4">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" style="background-image:url(&quot;https://assets.website-files.com/5e4b1a54e48aed65701ff226/5e4b1a54e48aed3f261ff24a_photo-1441512673622-3eaa1c39ba28.jpg&quot;)" class="blog-image w-inline-block">
                                    </a>
                                </div>
                                <div class="w-col w-col-8 w-col-medium-8">
                                    <a href="{{ url_for('view_post',post_id=post.id) }}" class="blog-title-link w-inline-block">
                                        <h2 class="blog-title">{{post.title}}</h2>
                                    </a>
                                    <div class="details-wrapper">
                                        <div class="post-info">{{post.postdate}}</div>
                                        <div class="post-info">|</div>
                                        <a href="https://denali-template.webflow.io/categories/art" class="post-info when-link">Art</a>
                                    </div>
                                    <div class="post-summary-wrapper">
                                        <p class="post-summary">{{post.context |safe}}
                                        </p>
                                        <a href="{{ url_for('view_post',post_id=post.id) }}"  class="read-more-link">Read more...</a>
                                        <a href="{{ url_for('edit_post', post_id=post.id) }}" class="read-more-link" style="padding-right: 10px;"><i class="far fa-edit"></i></a>
                                        <a href="{{ url_for('delete_post', post_id=post.id) }}" class="read-more-link" style="padding-right: 10px;"><i class="far fa-trash-alt"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <!--  -->
    <!--  -->
    <div class="button-wrapper">
        <a href="https://denali-template.webflow.io/all-posts" class="button w-button">More posts&nbsp;â†’</a>
    </div>
    <div class="sidebar-on-mobile">
        <div class="white-wrapper">
            <img src="{{ url_for('static', filename='icon/picture1.jpg') }}" alt="" class="circle-profile">
            <p class="site-description">Denali is a simple responsive blog template. Easily add new posts using the Editor or change layout and design using the Designer.</p>
            <div class="grey-rule"></div>
            <h2 class="small-heading">Featured Posts:</h2>
            <div class="feature-posts-list w-dyn-list">
                <div role="list" class="w-dyn-items">
                    <div role="listitem" class="w-dyn-item">
                        <a href="https://denali-template.webflow.io/posts/half-and-half-variety-milk-viennese-body-cappuccino" class="small-post-link">According a funnily until pre-set or arrogant well cheerful</a>
                    </div>
                    <div role="listitem" class="w-dyn-item">
                        <a href="https://denali-template.webflow.io/posts/steamed-siphon-froth-mazagran-cafe-au-lait" class="small-post-link">Overlaid the jeepers uselessly much excluding</a>
                    </div>
                </div>
            </div>
            <div class="grey-rule"></div>
            <div class="social-link-group">
                <a href="#" class="social-icon-link w-inline-block">
                    <img src="{{ url_for('static', filename='icon/facebook.svg') }}" alt="" width="25">
                </a>
                <a href="#" class="social-icon-link w-inline-block">
                    <img src="{{ url_for('static', filename='icon/instagram.svg') }}" alt="" width="25">
                </a>
                <a href="#" class="social-icon-link w-inline-block">
                    <img src="{{ url_for('static', filename='icon/tweeter.svg') }}" alt="" width="25">
                </a>
                <a href="#" class="social-icon-link w-inline-block">
                    <img src="{{ url_for('static', filename='icon/linkedin.svg') }}" alt="" width="25">
                </a>
            </div>
            <p class="built-with-webflow">Built with 
                <a target="_blank" href="https://webflow.com/" class="webflow-link">Webflow</a>
            </p>
        </div>
    </div>
</div>
<script>

    // let my_post = document.querySelector('#my-post')
    // let my_post_btn = document.querySelector('#my-post-btn')
    let all_posts = document.querySelectorAll('.post-group')
    let all_btns = document.querySelectorAll('.filter')

    
    all_btns.forEach(item => {
        item.addEventListener('click', function() {
            let get_post_id = this.getAttribute('id').slice(0, this.getAttribute('id').length - 4)
            all_posts.forEach(el => {
                el.style.display = 'none'
            })

            all_btns.forEach(el => {
                el.classList.remove('active')
            })

            document.querySelector(`#${get_post_id}`).style.display = 'block'     
            this.classList.add('active')
        })
    })

</script>
{% endblock %}